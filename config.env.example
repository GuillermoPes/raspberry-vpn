# ========================================================================
# üè† Raspberry Pi VPN Server - Configuraci√≥n de Ejemplo
# ========================================================================
# 
# Este archivo contiene todas las variables de entorno necesarias para
# personalizar tu instalaci√≥n. Copia este archivo a .env y modifica
# los valores seg√∫n tus necesidades.
#
# IMPORTANTE: Si usas setup.sh, este archivo se genera autom√°ticamente
# ========================================================================

# ========================================================================
# CONFIGURACI√ìN GENERAL
# ========================================================================

# Zona horaria (formato: Continent/City)
TZ=Europe/Madrid

# IDs de usuario y grupo para contenedores
PUID=1000
PGID=1000

# Nombre del proyecto Docker Compose
COMPOSE_PROJECT_NAME=vpn-server

# ========================================================================
# CONFIGURACI√ìN DE RED
# ========================================================================

# IP p√∫blica o dominio de tu servidor
# Opciones: auto (detecci√≥n autom√°tica), IP (ej: 88.12.34.56), dominio (ej: miserver.duckdns.org)
SERVERURL=auto

# IP p√∫blica detectada (informativo)
PUBLIC_IP=

# ========================================================================
# CONFIGURACI√ìN DE DUCKDNS (OPCIONAL)
# ========================================================================

# Habilitar actualizaci√≥n autom√°tica de DuckDNS
USE_DUCKDNS=false

# Dominio DuckDNS (sin .duckdns.org)
DUCKDNS_DOMAIN=miservidor

# Token de DuckDNS (36 caracteres)
DUCKDNS_TOKEN=12345678-1234-1234-1234-123456789012

# ========================================================================
# CONFIGURACI√ìN DE ADGUARD HOME
# ========================================================================

# Contrase√±a para la interfaz web de AdGuard Home
ADGUARD_PASSWORD=cambiar_por_password_segura

# IP de AdGuard Home en la red Docker
ADGUARD_IP=10.13.13.100

# ========================================================================
# CONFIGURACI√ìN DE WIREGUARD (WG-Easy)
# ========================================================================

# Hash bcrypt de la contrase√±a de WG-Easy
# IMPORTANTE: Este hash se genera autom√°ticamente durante la instalaci√≥n
# Para generar manualmente: python3 -c "import bcrypt; print(bcrypt.hashpw(b'TU_PASSWORD', bcrypt.gensalt()).decode())"
# Luego escapa los $ duplic√°ndolos: $2b$12$... -> $$2b$$12$$...
PASSWORD_HASH=

# N√∫mero de clientes VPN a generar (1-10)
PEERS=5

# Puerto del servidor WireGuard
SERVERPORT=51820

# Subred interna para clientes VPN (separada de la red Docker)
# Red Docker: 10.13.13.0/24 (servicios internos)
# Red WireGuard: 10.14.14.0/24 (clientes VPN)
INTERNAL_SUBNET=10.14.14.0

# ========================================================================
# CONFIGURACI√ìN DE RED INTERNA
# ========================================================================

# IP de WireGuard en la red Docker
WIREGUARD_IP=10.13.13.2

# ========================================================================
# CONFIGURACI√ìN DE WATCHTOWER
# ========================================================================

# Intervalo de verificaci√≥n de actualizaciones en segundos
# 86400 = 24 horas, 3600 = 1 hora, 43200 = 12 horas
WATCHTOWER_POLL_INTERVAL=86400

# ========================================================================
# CONFIGURACI√ìN DE N8N (AUTOMATIZACI√ìN)
# ========================================================================

# Habilitar n8n
INSTALL_N8N=true

# Credenciales de acceso a n8n
N8N_USER=admin
N8N_PASSWORD=cambiar_por_password_segura
N8N_BASIC_AUTH_ACTIVE=true

# Host para n8n
# - localhost: si solo accedes v√≠a VPN
# - n8n.tudominio.com: si usas Cloudflare Tunnel
N8N_HOST=localhost

# Protocolo (http o https)
# - http: acceso local o v√≠a VPN
# - https: si usas Cloudflare Tunnel
N8N_PROTOCOL=http

# Cookie segura (true si usas HTTPS)
N8N_SECURE_COOKIE=false

# URL para webhooks (opcional)
# Si usas Cloudflare Tunnel: https://n8n.tudominio.com
N8N_WEBHOOK_URL=

# IP de n8n en la red Docker
N8N_IP=10.13.13.50

# ========================================================================
# CONFIGURACI√ìN DE CLOUDFLARE TUNNEL (ACCESO REMOTO SEGURO)
# ========================================================================

# Habilitar Cloudflare Tunnel
# Permite acceder a n8n desde Internet con HTTPS autom√°tico
# Sin necesidad de abrir puertos en el router
INSTALL_CLOUDFLARE_TUNNEL=false

# Token del t√∫nel de Cloudflare
# Obtener en: dash.cloudflare.com ‚Üí Zero Trust ‚Üí Tunnels ‚Üí Create
# Es una cadena larga que empieza con 'eyJ...'
CLOUDFLARE_TUNNEL_TOKEN=

# ========================================================================
# CONFIGURACI√ìN DE NGINX PROXY MANAGER (OPCIONAL)
# ========================================================================

# Habilitar Nginx Proxy Manager
# true = instalar, false = no instalar
# Solo necesario si tienes dominio propio y NO usas Cloudflare Tunnel
INSTALL_NGINX=false

# ========================================================================
# INFORMACI√ìN DE SERVICIOS
# ========================================================================

# WireGuard VPN (WG-Easy)
# Puerto: 51820/UDP (VPN), 51821/TCP (Web)
# Acceso: http://IP:51821
# Uso: Gesti√≥n de clientes VPN con QR codes

# AdGuard Home (DNS + Bloqueo de anuncios)
# Puerto: 8080 (HTTP), 8443 (HTTPS), 3000 (configuraci√≥n inicial)
# Acceso: http://IP:8080
# Caracter√≠sticas: DNS-over-HTTPS, DNS-over-TLS, filtros avanzados

# Portainer (Gesti√≥n Docker)
# Puerto: 9000
# Acceso: http://IP:9000
# Configuraci√≥n: Primer acceso crea usuario admin

# n8n (Automatizaci√≥n)
# Puerto: 5678
# Acceso: http://IP:5678
# Acceso remoto: Con√©ctate primero a la VPN

# Nginx Proxy Manager (Proxy reverso) - OPCIONAL
# Puerto: 80 (HTTP), 81 (Admin), 443 (HTTPS)
# Acceso: http://IP:81
# Usuario inicial: admin@example.com
# Contrase√±a inicial: changeme